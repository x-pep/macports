# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
#     vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0

name                libpep-etpan
version             1.6.1
categories          mail
platforms           darwin
license             GPL-2+
maintainers         x-pep cluck
description         pEp MIME parser
long_description    MIME parser for pretty Easy privacy (fork)
homepage            https://pep.software/

master_sites        https://github.com/fdik/libetpan/archive/

distfiles           af2aad552dd0ecc6a943f78e5c77dc03ebbc0028.tar.gz

checksums           rmd160 b4b3b1b06db3bf33e69895595b64f81632b3effc \
                    sha256 8bf56f8ca41518b7db5d80fca358e48ea889981255369beb222167aa1ab200a0

extract.suffix      .tar.gz
extract.post_args   | tar --strip-components 1 -xf -
worksrcdir          .

depends_build       port:automake \
                    port:autoconf \
                    port:libtool

depends_lib         port:libiconv

configure.cmd       ${worksrcdir}/autogen.sh

configure.pre_args  --prefix=${prefix}/pep \
                    --bindir=${prefix}/bin --sbindir=${prefix}/sbin
configure.args      --program-prefix=libpep- \
                    --datarootdir=${prefix}/pep/share

destroot.violate_mtree yes
